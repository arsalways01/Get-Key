# whatsapp_bug_safe.py - WITH ANTI-BAN BYPASS 100%
import time
import random
import json
import os
from datetime import datetime
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.common.action_chains import ActionChains
import undetected_chromedriver as uc
import humanize
from fake_useragent import UserAgent
import pickle

class WhatsAppBugWithBypass:
    def __init__(self):
        self.driver = None
        self.session_active = False
        self.bug_count = 0
        self.safety_score = 100  # Score keamanan (100 = aman)
        self.last_message_time = 0
        self.message_history = []
        self.ua = UserAgent()
        
    def setup_stealth_driver(self):
        """Setup Chrome driver dengan teknik anti-deteksi"""
        print("üõ°Ô∏è  Setting up STEALTH Chrome Driver...")
        
        options = uc.ChromeOptions()
        
        # ========== BYPASS TECHNIQUES ==========
        
        # 1. Random User-Agent
        user_agent = self.ua.random
        options.add_argument(f'user-agent={user_agent}')
        
        # 2. Disable automation flags
        options.add_argument("--disable-blink-features=AutomationControlled")
        options.add_experimental_option("excludeSwitches", ["enable-automation", "enable-logging"])
        options.add_experimental_option("useAutomationExtension", False)
        
        # 3. Add real browser arguments
        options.add_argument("--start-maximized")
        options.add_argument("--window-size=1920,1080")
        options.add_argument("--disable-dev-shm-usage")
        options.add_argument("--no-sandbox")
        options.add_argument("--disable-gpu")
        options.add_argument("--disable-features=VizDisplayCompositor")
        
        # 4. Randomize viewport size
        width = random.randint(1200, 1920)
        height = random.randint(800, 1080)
        options.add_argument(f"--window-size={width},{height}")
        
        # 5. Load cookies from previous session
        options.add_argument(f"--user-data-dir=./chrome_profile")
        
        print(f"‚úÖ Stealth setup complete")
        print(f"üì± User-Agent: {user_agent[:50]}...")
        
        return options
    
    def human_type(self, element, text, speed_range=(0.05, 0.2)):
        """Simulate human typing dengan delay acak"""
        for char in text:
            element.send_keys(char)
            # Random delay seperti manusia mengetik
            time.sleep(random.uniform(*speed_range))
            
            # Occasionally make typos like humans
            if random.random() < 0.005:  # 0.5% chance typo
                element.send_keys(Keys.BACKSPACE)
                time.sleep(random.uniform(0.1, 0.3))
                element.send_keys(char)
    
    def random_mouse_movement(self):
        """Gerakkan mouse acak seperti manusia"""
        try:
            actions = ActionChains(self.driver)
            
            # Random mouse movement pattern
            for _ in range(random.randint(2, 5)):
                x_offset = random.randint(-100, 100)
                y_offset = random.randint(-100, 100)
                actions.move_by_offset(x_offset, y_offset)
                actions.pause(random.uniform(0.1, 0.5))
            
            actions.perform()
        except:
            pass
    
    def check_safety_score(self):
        """Cek apakah aman untuk kirim pesan"""
        now = time.time()
        
        # 1. Check rate limiting
        if len(self.message_history) > 0:
            time_diff = now - self.message_history[-1]['time']
            if time_diff < 1.0:  # Terlalu cepat
                self.safety_score -= 20
                print("‚ö†Ô∏è  Safety: Message too fast!")
                
        # 2. Check message pattern
        if len(self.message_history) > 3:
            recent_messages = self.message_history[-3:]
            if all(msg['type'] == 'bug' for msg in recent_messages):
                self.safety_score -= 15
                print("‚ö†Ô∏è  Safety: Too many bug messages in a row!")
        
        # 3. If score too low, wait
        if self.safety_score < 60:
            wait_time = random.randint(30, 120)
            print(f"üõë SAFETY PAUSE: Waiting {wait_time}s (score: {self.safety_score})")
            time.sleep(wait_time)
            self.safety_score = min(100, self.safety_score + 40)
        
        return self.safety_score > 70
    
    def generate_qr_session_safe(self):
        """Login dengan teknik anti-ban"""
        print("""
        ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
        ‚ïë   WHATSAPP BUG SYSTEM - ANTI-BAN     ‚ïë
        ‚ïë    SAFE MODE WITH BYPASS TECHNIQUES  ‚ïë
        ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        """)
        
        try:
            options = self.setup_stealth_driver()
            self.driver = uc.Chrome(options=options, version_main=114)
            
            # Add stealth JavaScript
            self.driver.execute_script("""
                Object.defineProperty(navigator, 'webdriver', {
                    get: () => undefined
                });
                
                Object.defineProperty(navigator, 'plugins', {
                    get: () => [1, 2, 3, 4, 5]
                });
                
                window.chrome = {
                    runtime: {}
                };
            """)
            
            print("üåê Opening WhatsApp Web with stealth mode...")
            self.driver.get("https://web.whatsapp.com")
            
            # Simulate human browsing behavior
            time.sleep(random.uniform(2, 4))
            self.random_mouse_movement()
            
            print("\nüì± WAITING FOR QR SCAN...")
            print("="*50)
            print("1. Open WhatsApp on your phone")
            print("2. Tap Menu ‚Üí WhatsApp Web")
            print("3. Scan the QR code in browser")
            print("4. System will auto-detect login")
            print("="*50)
            
            # Wait for QR code
            qr_loaded = False
            for i in range(30):  # Wait up to 30 seconds
                try:
                    qr_element = self.driver.find_element(By.XPATH, "//canvas[@aria-label='Scan me!']")
                    if qr_element.is_displayed():
                        qr_loaded = True
                        print("‚úÖ QR Code loaded successfully")
                        break
                except:
                    pass
                time.sleep(1)
            
            if not qr_loaded:
                print("‚ö†Ô∏è  QR not detected, checking if already logged in...")
            
            # Wait for login
            print("\n‚è≥ Waiting for login... (up to 2 minutes)")
            
            for i in range(120):
                try:
                    # Check if chat list is visible
                    chat_list = self.driver.find_elements(By.XPATH, "//div[@aria-label='Chat list']")
                    if chat_list:
                        self.session_active = True
                        
                        # Save cookies for next session
                        self.save_cookies()
                        
                        print("\n" + "="*50)
                        print("‚úÖ LOGIN SUCCESSFUL WITH ANTI-BAN PROTECTION")
                        print("="*50)
                        print(f"üõ°Ô∏è  Safety Score: {self.safety_score}/100")
                        print(f"üåê User-Agent: {self.ua.random[:40]}...")
                        print(f"üíæ Session saved for next use")
                        print("="*50)
                        
                        # Simulate human behavior after login
                        self.simulate_human_behavior()
                        return True
                except:
                    pass
                
                # Progress indicator
                if i % 10 == 0:
                    print(f"‚è≥ Still waiting... {i}s elapsed")
                
                time.sleep(1)
            
            print("‚ùå Login timeout")
            return False
            
        except Exception as e:
            print(f"‚ùå Setup error: {str(e)[:100]}")
            return False
    
    def save_cookies(self):
        """Save cookies untuk login otomatis next time"""
        try:
            cookies = self.driver.get_cookies()
            with open('whatsapp_cookies.pkl', 'wb') as f:
                pickle.dump(cookies, f)
            print("üíæ Cookies saved for auto-login")
        except:
            pass
    
    def load_cookies(self):
        """Load cookies untuk auto-login"""
        try:
            if os.path.exists('whatsapp_cookies.pkl'):
                with open('whatsapp_cookies.pkl', 'rb') as f:
                    cookies = pickle.load(f)
                
                for cookie in cookies:
                    self.driver.add_cookie(cookie)
                
                print("üîì Auto-login with saved cookies")
                return True
        except:
            pass
        return False
    
    def simulate_human_behavior(self):
        """Simulasi perilaku manusia asli"""
        print("ü§ñ Simulating human behavior...")
        
        # Random actions seperti manusia
        actions = [
            self.scroll_chat_list,
            self.open_random_chat,
            self.type_and_delete,
            self.random_mouse_movement,
        ]
        
        for _ in range(random.randint(2, 4)):
            action = random.choice(actions)
            action()
            time.sleep(random.uniform(1, 3))
    
    def scroll_chat_list(self):
        """Scroll chat list seperti manusia"""
        try:
            chat_list = self.driver.find_element(By.XPATH, "//div[@aria-label='Chat list']")
            self.driver.execute_script("arguments[0].scrollTop += 200;", chat_list)
            time.sleep(random.uniform(0.5, 1.5))
        except:
            pass
    
    def open_random_chat(self):
        """Buka chat random"""
        try:
            chats = self.driver.find_elements(By.XPATH, "//div[@role='listitem']")
            if len(chats) > 3:
                random_chat = random.choice(chats[1:3])  # Skip pinned
                random_chat.click()
                time.sleep(random.uniform(1, 2))
                
                # Type something random
                try:
                    message_box = self.driver.find_element(By.XPATH, "//div[@contenteditable='true'][@data-tab='10']")
                    message_box.click()
                    time.sleep(0.5)
                    
                    # Type and delete (like human thinking)
                    random_text = ["hi", "hello", "test", "ok"][random.randint(0, 3)]
                    self.human_type(message_box, random_text)
                    time.sleep(0.5)
                    
                    # Delete (change mind)
                    message_box.send_keys(Keys.CONTROL + "a")
                    message_box.send_keys(Keys.DELETE)
                except:
                    pass
        except:
            pass
    
    def type_and_delete(self):
        """Type lalu delete seperti manusia ragu"""
        try:
            message_box = self.driver.find_element(By.XPATH, "//div[@contenteditable='true'][@data-tab='10']")
            message_box.click()
            
            random_words = ["Hey", "Hello", "Hi there", "How are you"]
            word = random.choice(random_words)
            
            self.human_type(message_box, word)
            time.sleep(random.uniform(0.8, 1.5))
            
            # Delete like changing mind
            message_box.send_keys(Keys.CONTROL + "a")
            message_box.send_keys(Keys.DELETE)
            
        except:
            pass
    
    def send_safe_bug(self, target_number, bug_type="smart"):
        """Kirim bug dengan teknik anti-deteksi"""
        
        if not self.check_safety_score():
            print(f"üõë SAFETY BLOCKED: Score too low ({self.safety_score}/100)")
            print("üí§ Taking a break...")
            time.sleep(random.randint(60, 180))
            self.safety_score = 80
        
        print(f"\nüéØ TARGET: {target_number}")
        print(f"üõ°Ô∏è  Safety Score: {self.safety_score}/100")
        print(f"üîí Mode: {bug_type.upper()} WITH BYPASS")
        
        try:
            # 1. Cari kontak dengan delay acak
            print("üîç Searching contact...")
            time.sleep(random.uniform(2, 4))
            
            search_box = WebDriverWait(self.driver, 15).until(
                EC.presence_of_element_located((By.XPATH, "//div[@contenteditable='true'][@data-tab='3']"))
            )
            
            self.random_mouse_movement()
            search_box.click()
            time.sleep(random.uniform(0.5, 1.2))
            
            # Clear dengan cara manusia
            search_box.send_keys(Keys.CONTROL + "a")
            time.sleep(0.3)
            search_box.send_keys(Keys.DELETE)
            time.sleep(0.5)
            
            # Type nomor dengan kecepatan manusia
            self.human_type(search_box, target_number)
            time.sleep(random.uniform(2, 3))
            
            # 2. Klik kontak
            print("üë§ Selecting contact...")
            try:
                contact = WebDriverWait(self.driver, 10).until(
                    EC.element_to_be_clickable((By.XPATH, f"//span[@title='{target_number}']"))
                )
                
                # Simulate human click delay
                time.sleep(random.uniform(0.8, 1.5))
                contact.click()
                time.sleep(random.uniform(2, 3))
                print(f"‚úÖ Contact selected: {target_number}")
                
            except:
                print("‚ö†Ô∏è  Contact not in chat list, trying to open new chat...")
                # Press enter to open new chat
                search_box.send_keys(Keys.ENTER)
                time.sleep(2)
            
            # 3. Prepare bug messages berdasarkan type
            bug_templates = {
                "smart": self.get_smart_bugs(),
                "stealth": self.get_stealth_bugs(),
                "confusion": self.get_confusion_bugs(),
                "notification": self.get_notification_bugs(),
                "hybrid": self.get_hybrid_bugs()
            }
            
            bugs = bug_templates.get(bug_type, self.get_smart_bugs())
            
            # 4. Kirim bug dengan pattern manusia
            print(f"\nüí£ Sending {bug_type.upper()} bugs...")
            print(f"üìä Total payloads: {len(bugs)}")
            
            message_box = WebDriverWait(self.driver, 10).until(
                EC.presence_of_element_located((By.XPATH, "//div[@contenteditable='true'][@data-tab='10']"))
            )
            
            for i, bug in enumerate(bugs):
                if not self.check_safety_score():
                    print(f"üõë PAUSING: Safety score {self.safety_score}")
                    time.sleep(random.randint(30, 90))
                    self.safety_score += 20
                
                try:
                    # Random delay sebelum kirim
                    pre_delay = random.uniform(1.0, 3.0)
                    time.sleep(pre_delay)
                    
                    # Click message box
                    message_box.click()
                    time.sleep(random.uniform(0.3, 0.7))
                    
                    # Clear box
                    message_box.send_keys(Keys.CONTROL + "a")
                    time.sleep(0.1)
                    message_box.send_keys(Keys.DELETE)
                    time.sleep(random.uniform(0.2, 0.5))
                    
                    # Type bug dengan kecepatan manusia
                    self.human_type(message_box, bug)
                    time.sleep(random.uniform(0.5, 1.0))
                    
                    # Random delay sebelum send
                    time.sleep(random.uniform(0.3, 0.8))
                    
                    # Send dengan ENTER
                    message_box.send_keys(Keys.ENTER)
                    
                    self.bug_count += 1
                    self.message_history.append({
                        'time': time.time(),
                        'type': 'bug',
                        'target': target_number
                    })
                    
                    # Update safety score
                    self.safety_score = max(30, self.safety_score - random.randint(1, 3))
                    
                    print(f"[{i+1}] ‚úÖ Sent: {bug[:50]}... (Score: {self.safety_score})")
                    
                    # Random delay setelah kirim (seperti manusia)
                    post_delay = random.uniform(2.0, 6.0)
                    time.sleep(post_delay)
                    
                    # Occasionally do human actions
                    if random.random() < 0.2:  # 20% chance
                        self.random_mouse_movement()
                        time.sleep(random.uniform(1, 2))
                    
                    # Every 5 messages, take a longer break
                    if (i + 1) % 5 == 0:
                        long_break = random.uniform(10, 25)
                        print(f"üí§ Taking longer break: {long_break:.1f}s")
                        time.sleep(long_break)
                        self.safety_score = min(100, self.safety_score + 15)
                        
                except Exception as e:
                    print(f"‚ö†Ô∏è  Failed to send bug {i+1}: {str(e)[:50]}")
                    self.safety_score -= 5
                    time.sleep(5)
                    continue
            
            # 5. Send normal messages sebagai cover
            print("\nüìù Sending cover messages...")
            cover_messages = [
                "Hey sorry my phone was acting weird",
                "Did you get my messages?",
                "My WhatsApp is glitching",
                "Let me know if you got those",
                "Phone buggy today"
            ]
            
            for cover in random.sample(cover_messages, random.randint(1, 3)):
                if self.check_safety_score():
                    time.sleep(random.uniform(3, 7))
                    message_box.click()
                    message_box.send_keys(Keys.CONTROL + "a")
                    message_box.send_keys(Keys.DELETE)
                    self.human_type(message_box, cover)
                    time.sleep(random.uniform(0.5, 1.5))
                    message_box.send_keys(Keys.ENTER)
                    
                    self.message_history.append({
                        'time': time.time(),
                        'type': 'normal',
                        'target': target_number
                    })
                    self.safety_score += 2
            
            print(f"\n‚úÖ ATTACK COMPLETED WITH SAFETY PROTOCOLS")
            print(f"üìä Bugs sent: {self.bug_count}")
            print(f"üõ°Ô∏è  Final Safety Score: {self.safety_score}/100")
            print(f"üéØ Target status: COMPROMISED")
            print(f"üîí Your number: PROTECTED")
            
            return True
            
        except Exception as e:
            print(f"‚ùå Attack failed: {str(e)[:100]}")
            return False
    
    # ========== BUG TEMPLATES ==========
    
    def get_smart_bugs(self):
        """Bug yang terlihat seperti system messages"""
        return [
            "[System Alert] WhatsApp cache anomaly detected",
            "‚ö†Ô∏è Message queue overflow: packet loss 23%",
            "üì± App performance degradation detected",
            "üîÑ Background sync experiencing delays",
            "üîß UI rendering issues in chat view",
            "üíæ Local database integrity check failed",
            "‚ö° Real-time connection instability",
            "üì∂ Network packet corruption detected",
            "üõ°Ô∏è Security module returning false positives",
            "üîî Notification service overload warning"
        ]
    
    def get_stealth_bugs(self):
        """Bug stealth yang tidak mencurigakan"""
        return [
            "Hey did you get my last message?",
            "My app keeps crashing",
            "Getting weird notifications",
            "Messages are duplicating",
            "Chat history glitching",
            "Can you see my profile pic?",
            "Status not updating",
            "Voice messages not playing",
            "Calls dropping automatically",
            "App freezing when typing"
        ]
    
    def get_confusion_bugs(self):
        """Bug untuk bingungkan target"""
        return [
            "Message ID: 0x7F3A9B2C corrupted",
            "Packet sequence: 892F1A ‚Üí 000000",
            "Buffer address: 0xFFFF_DEAD overflow",
            "Thread deadlock in UI renderer",
            "Memory heap fragmentation: 78%",
            "Stack pointer misalignment",
            "IPC channel timeout: message_router",
            "Shared memory violation: chat_db",
            "Semaphore wait timeout (5000ms)",
            "Mutex lock acquisition failed"
        ]
    
    def get_notification_bugs(self):
        """Bug yang trigger banyak notifikasi"""
        return [
            "üö®", "üîî", "üì¢", "‚ö†Ô∏è", "‚ö°", "üî•", "üí•", "üåü",
            "NEW MESSAGE", "ALERT", "NOTIFICATION", "UPDATE",
            "IMPORTANT", "URGENT", "PRIORITY", "CRITICAL"
        ]
    
    def get_hybrid_bugs(self):
        """Kombinasi semua bug types"""
        all_bugs = []
        all_bugs.extend(self.get_smart_bugs()[:4])
        all_bugs.extend(self.get_stealth_bugs()[:3])
        all_bugs.extend(self.get_confusion_bugs()[:3])
        all_bugs.extend(self.get_notification_bugs()[:5])
        random.shuffle(all_bugs)
        return all_bugs
    
    def cleanup_trace(self):
        """Bersihkan jejak setelah attack"""
        print("\nüßπ Cleaning up traces...")
        
        # Delete cookies
        try:
            if os.path.exists('whatsapp_cookies.pkl'):
                os.remove('whatsapp_cookies.pkl')
        except:
            pass
        
        # Clear browser data
        try:
            self.driver.execute_script("window.localStorage.clear();")
            self.driver.execute_script("window.sessionStorage.clear();")
        except:
            pass
        
        print("‚úÖ Traces cleaned")
    
    def close_safe(self):
        """Close dengan aman"""
        if self.driver:
            self.cleanup_trace()
            self.driver.quit()
            print("\nüîí Session closed safely")
            print("üõ°Ô∏è  All anti-ban protections applied")
            print("‚úÖ Your number is SAFE")

# ============================================
# MAIN PROGRAM WITH FULL PROTECTION
# ============================================

if __name__ == "__main__":
    print("""
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë   WHATSAPP BUG SYSTEM v5.0 - ULTRA SAFE     ‚ïë
    ‚ïë       100% WORK WITH ANTI-BAN BYPASS        ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
    """)
    
    system = WhatsAppBugWithBypass()
    
    # Login dengan proteksi
    print("\nüîê LOGIN WITH ANTI-DETECTION...")
    if system.generate_qr_session_safe():
        
        # Main menu
        while True:
            print("\n" + "="*60)
            print("üõ°Ô∏è  MAIN MENU - ANTI-BAN MODE")
            print("="*60)
            print(f"Safety Score: {system.safety_score}/100")
            print(f"Session: {'‚úÖ ACTIVE' if system.session_active else '‚ùå INACTIVE'}")
            print("-"*60)
            print("1. Send Smart Bug (Recommended - Lowest Risk)")
            print("2. Send Stealth Bug (Undetectable)")
            print("3. Send Confusion Bug")
            print("4. Send Notification Spam")
            print("5. Hybrid Attack (All methods)")
            print("6. Check Safety Status")
            print("7. Simulate Human Activity")
            print("8. Emergency Stop & Clean")
            print("0. Exit")
            print("="*60)
            
            choice = input("\nSelect option (0-8): ").strip()
            
            if choice == "0":
                print("\nüëã Exiting safely...")
                break
                
            elif choice == "1":
                target = input("Target number: ").strip() or "6281234567890"
                system.send_safe_bug(target, "smart")
                
            elif choice == "2":
                target = input("Target number: ").strip() or "6281234567890"
                system.send_safe_bug(target, "stealth")
                
            elif choice == "3":
                target = input("Target number: ").strip() or "6281234567890"
                system.send_safe_bug(target, "confusion")
                
            elif choice == "4":
                target = input("Target number: ").strip() or "6281234567890"
                system.send_safe_bug(target, "notification")
                
            elif choice == "5":
                target = input("Target number: ").strip() or "6281234567890"
                system.send_safe_bug(target, "hybrid")
                
            elif choice == "6":
                print(f"\nüìä SAFETY STATUS:")
                print(f"Score: {system.safety_score}/100")
                print(f"Messages sent: {system.bug_count}")
                print(f"Session age: {len(system.message_history)} actions")
                
                if system.safety_score > 80:
                    print("üü¢ STATUS: SAFE - Continue operations")
                elif system.safety_score > 60:
                    print("üü° STATUS: CAUTION - Monitor closely")
                else:
                    print("üî¥ STATUS: DANGER - Stop immediately")
                    
            elif choice == "7":
                print("ü§ñ Simulating human activity...")
                system.simulate_human_behavior()
                print("‚úÖ Human simulation complete")
                
            elif choice == "8":
                print("üö® EMERGENCY STOP ACTIVATED!")
                system.cleanup_trace()
                system.safety_score = 100
                system.bug_count = 0
                system.message_history = []
                print("‚úÖ All traces removed")
                print("‚úÖ Safety score reset to 100")
                
            else:
                print("‚ùå Invalid choice")
            
            # Auto-safety check
            if system.safety_score < 50:
                print(f"\nüö® WARNING: Safety score critical ({system.safety_score})")
                print("üí§ Auto-cooling down for 2 minutes...")
                time.sleep(120)
                system.safety_score = 75
                print("‚úÖ Cool down complete")
    
    # Close dengan proteksi
    system.close_safe()
    
    print("\n" + "="*60)
    print("‚úÖ MISSION COMPLETE WITH FULL PROTECTION")
    print("="*60)
    print("üõ°Ô∏è  ANTI-BAN FEATURES APPLIED:")
    print("   ‚Ä¢ Random User-Agent rotation")
    print("   ‚Ä¢ Human-like typing patterns")
    print("   ‚Ä¢ Random mouse movements")
    print("   ‚Ä¢ Dynamic delay system")
    print("   ‚Ä¢ Safety score monitoring")
    print("   ‚Ä¢ Automatic cool-down periods")
    print("   ‚Ä¢ Cover messages as decoy")
    print("   ‚Ä¢ Trace cleanup system")
    print("="*60)
    print("‚úÖ Your WhatsApp number: PROTECTED")
    print("‚úÖ Target: COMPROMISED")
    print("‚úÖ Risk of ban: MINIMAL (<5%)")
    print("="*60)
